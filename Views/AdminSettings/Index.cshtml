@model CampusLink_Application.ViewModels.Admin.SettingsViewModel

@{
    ViewData["Title"] = "Admin Settings";
}

@section Styles {
    <link rel="stylesheet" href="~/css/admin-settings.css" />
}


<div class="container-fluid settings-container">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 sidebar">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Settings Menu</h5>
                </div>
                <div class="list-group list-group-flush">
                    <a href="#system" class="list-group-item list-group-item-action">System</a>
                    <a href="#user" class="list-group-item list-group-item-action">User</a>
                    <a href="#security" class="list-group-item list-group-item-action">Security</a>
                    <a href="#notifications" class="list-group-item list-group-item-action">Notifications</a>
                    <a href="#appearance" class="list-group-item list-group-item-action">Appearance</a>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9">
            <form asp-action="Index" method="post" class="settings-card">
                <h3 class="text-dark fw-bold">CampusLink Admin Settings</h3>

                <!-- System -->
                <section id="system" class="mb-4">
                    <div class="section-title">System Settings</div>
                    <div class="mb-3">
                        <label class="form-label">Site Title</label>
                        <input asp-for="SiteTitle" class="form-control" placeholder="Enter site title" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Institution Name</label>
                        <input asp-for="InstitutionName" class="form-control" placeholder="e.g. CampusLink University" />
                    </div>
                </section>

                <!-- User -->
                <section id="user" class="mb-4">
                    <div class="section-title">User Settings</div>
                    <div class="form-check form-switch mb-3">
                        <input asp-for="AllowUserRegistration" class="form-check-input" type="checkbox" />
                        <label class="form-check-label">Allow new user registration</label>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Max Login Attempts</label>
                        <input asp-for="MaxLoginAttempts" class="form-control" type="number" min="1" max="10" />
                    </div>
                </section>

                <!-- Security -->
                <section id="security" class="mb-4">
                    <div class="section-title">Security</div>
                    <div class="form-check form-switch mb-3">
                        <input asp-for="Enable2FA" class="form-check-input" type="checkbox" />
                        <label class="form-check-label">Enable Two-Factor Authentication</label>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Session Timeout (minutes)</label>
                        <input asp-for="SessionTimeoutMinutes" class="form-control" type="number" min="1" max="120" />
                    </div>
                </section>

                <!-- Notifications -->
                <section id="notifications" class="mb-4">
                    <div class="section-title">Notifications</div>
                    <div class="form-check form-switch mb-3">
                        <input asp-for="SendEmailOnNewUser" class="form-check-input" type="checkbox" />
                        <label class="form-check-label">Send email on new user registration</label>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Support Email</label>
                        <input asp-for="SupportEmail" class="form-control" type="email" />
                    </div>
                </section>

                <!-- Appearance -->
                <section id="appearance" class="mb-4">
                    <div class="section-title">Appearance</div>
                    <div class="mb-3">
                        <label class="form-label">Theme Color</label>
                        <select asp-for="ThemeColor" class="form-select">
                            <option>blue</option>
                            <option>dark</option>
                            <option>green</option>
                        </select>
                    </div>
                </section>

                <div class="text-end">
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.list-group-item-action').forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();
            const section = document.querySelector(this.getAttribute('href'));
            if (section) {
                section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });
</script>
